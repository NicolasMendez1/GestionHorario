--REPORTES

--DISPONIBILIDAD DE LOS PROFES

SELECT P.NOMBRE AS "NOMBRE_PROFE", D.NOMBRE_DIA AS "DIA", B.CODIGO_BLOQUE AS "NUMERO_BLOQUE", B.HORA_INICIO AS "INICIO", B.HORA_TERMINO AS "TERMINO"
FROM  NHMR_PROFESOR P JOIN NHMR_PROFESOR_BLOQUES_DISPONIBLES PBD ON (P.CODIGO = PBD.CODIGO_PROFESOR)
                      JOIN NHMR_DIA D ON (PBD.CODIGO_DIA = D.CODIGO_DIA)
                      JOIN NHMR_BLOQUE B ON (PBD.CODIGO_BLOQUE = B.CODIGO_BLOQUE)
WHERE(P.CODIGO = 1)
ORDER BY D.NOMBRE_DIA;

--REPORTE DE OCUPACION DE SALAS (FALTA POR TERMINAR)

SELECT S.CODIGO AS "CODIGO_SALA", D.NOMBRE_DIA
FROM NHMR_SALA S JOIN NHMR_SECCION SE_CATE ON (S.CODIGO = SE_CATE.CODIGO_SALA_CATEDRA)
                 JOIN NHMR_SECCION SE_LAB ON (S.CODIGO = SE_LAB.CODIGO_SALA_LABORATORIO)
                 JOIN NHMR_SECCION_BLOQUE_DIA BD ON (SE_CATE.CODIGO = BD.CODIGO_SECCION) AND (SE_CATE.CODIGO_CURSO = BD.CODIGO_CURSO)
                                                 OR (SE_LAB.CODIGO = BD.CODIGO_SECCION) AND (SE_LAB.CODIGO_CURSO = BD.CODIGO_CURSO)
                 JOIN NHMR_DIA D ON (BD.CODIGO_DIA = D.CODIGO_DIA)
                 JOIN NHMR_BLOQUE B ON (BD.CODIGO_BLOQUE = B.CODIGO_BLOQUE)
WHERE (S.CODIGO = 'DCI03');


--REPORTE DE CURSO CON MAS HORAS SEMANALES

SELECT CU.NOMBRE, (CU.HORAS_CATEDRA + CU.HORAS_LABORATORIO) AS "HORAS_TOTALES"
FROM NHMR_CURSO CU
WHERE (CU.HORAS_CATEDRA + CU.HORAS_LABORATORIO) = (SELECT MAX(HORAS_CATEDRA + HORAS_LABORATORIO) FROM NHMR_CURSO)